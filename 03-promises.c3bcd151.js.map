{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAkBC,SAASC,cAAc,uBACzCC,EAAiBF,SAASC,cAAc,sBACxCE,EAAcH,SAASC,cAAc,wBACrCG,EAAYJ,SAASC,cAAc,yBAuBrCI,EAAQ,EAEZ,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAGtCJ,EAAQ,CAAEH,WAAUQ,MAAAP,IAGpBG,EAAO,CAAEJ,WAAUQ,MAAAP,MAElBA,MAIPJ,EAAUY,iBAAiB,SAAS,SAAUC,GAC5CA,EAAMC,iBAEN,IAAIC,EAAaC,OAAOrB,EAAgBsB,OACpCC,EAAYF,OAAOlB,EAAemB,OAClCE,EAASH,OAAOjB,EAAYkB,OAChChB,EAAQc,EACN,IAAK,IAAIK,EAAW,EAAGA,GAAYD,EAAQC,IAEzClB,EAAckB,EAAUnB,GACrBoB,MAAK,SAAAC,G,IAAGnB,EAAQmB,EAARnB,SAAUoB,EAAKD,EAALX,MACjBa,QAAQC,IAAI,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANH,EAAM,OAC1DI,EAAAlC,GAASmC,OAAOC,QACd,qBAAoCH,OAAfvB,EAAS,QAAYuB,OAANH,EAAM,UAG7CO,OAAM,SAAAR,G,IAAGnB,EAAQmB,EAARnB,SAAU4B,EAAKT,EAALX,MAClBa,QAAQC,IAAI,sBAAuCC,OAAfvB,EAAS,QAAYuB,OAANK,EAAM,OACzDJ,EAAAlC,GAASmC,OAAOI,QACd,oBAAmCN,OAAfvB,EAAS,QAAYuB,OAANK,EAAM,UAG/C9B,GAASiB,K","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst firstDelayInput = document.querySelector('input[name=\"delay\"]');\nconst delayStepInput = document.querySelector('input[name=\"step\"]');\nconst amountInput = document.querySelector('input[name=\"amount\"]');\nconst submitBtn = document.querySelector('button[type=\"submit\"]');\n\n// let timer = 0;\n\n// function createPromise(position, timer) {\n//   return new Promise((resolve, reject) => { \n//     setTimeout(() => { \n//       const shouldResolve = Math.random() > 0.3;\n//     if (shouldResolve) {\n//         // Fulfill\n//       resolve({ position, timer });\n//       } else {\n//         // Reject\n//       reject({ position, timer });\n//       }\n//     });\n//   }, timer);\n// };\n\n\n\n\n// ===========================================================================================\nlet timer = 0;\n\nfunction createPromise(position, timer) {\n  return new Promise((resolve, reject) => { \n    setTimeout(() => { \n      const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n        // Fulfill\n      resolve({ position, timer });\n      } else {\n        // Reject\n      reject({ position, timer });\n      }\n    }, timer);\n  });\n};\n\nsubmitBtn.addEventListener(\"click\", function (event) {\n  event.preventDefault();\n  \n  let firstDelay = Number(firstDelayInput.value); \n  let delayStep = Number(delayStepInput.value);\n  let amount = Number(amountInput.value);\n  timer = firstDelay; \n    for (let position = 1; position <= amount; position++) { \n      \n      createPromise(position, timer)\n        .then(({ position, timer }) => {\n          console.log(`✅ Fulfilled promise ${position} in ${timer}ms`);\n          Notiflix.Notify.success(\n            `Fulfilled promise ${position} in ${timer}ms`\n          );\n        })\n        .catch(({ position, timer }) => {\n          console.log(`❌ Rejected promise ${position} in ${timer}ms`);\n          Notiflix.Notify.failure(\n            `Rejected promise ${position} in ${timer}ms`\n          );\n        });\n      timer += delayStep;\n    };\n});\n// ==================================================================================================\n\n\n// submitBtn.addEventListener(\"click\", function (event) {\n//   event.preventDefault();\n//   firstDelay = firstDelayInput.value; \n//   delayStep = delayStepInput.value; \n//   amount = amountInput.value;\n//   for (let i = 0; i < amount; i++) { \n//     setTimeout(() => { \n\n//       function createPromise(i, delayStep) {\n//         return new Promise((resolve, reject) => { \n//           const shouldResolve = Math.random() > 0.3;\n//           if (shouldResolve) {\n//             // Fulfill\n//             resolve()   \n//           } else {\n//             // Reject\n//             reject()\n//           }\n//         })\n\n//       };\n      \n//       createPromise(i, delayStep)\n//         .then(({ i, delayStep }) => {\n//           console.log(`✅ Fulfilled promise ${i} in ${delayStep}ms`);\n//         })\n//         .catch(({ i, delayStep }) => {\n//           console.log(`❌ Rejected promise ${i} in ${delayStep}ms`);\n//         });\n\n//     },firstDelay);\n//   };\n\n// });\n\n\n\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$firstDelayInput","document","querySelector","$ce04d3a99e08e73b$var$delayStepInput","$ce04d3a99e08e73b$var$amountInput","$ce04d3a99e08e73b$var$submitBtn","$ce04d3a99e08e73b$var$timer","$ce04d3a99e08e73b$var$createPromise","position","timer1","Promise","resolve","reject","setTimeout","Math","random","timer","addEventListener","event","preventDefault","firstDelay","Number","value","delayStep","amount","position1","then","param","timer2","console","log","concat","$parcel$interopDefault","Notify","success","catch","timer3","failure"],"version":3,"file":"03-promises.c3bcd151.js.map"}